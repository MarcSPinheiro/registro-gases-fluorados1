<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registo de Gases Fluorados</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #f5f7fa; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        header { background: #2c3e50; color: white; padding: 20px; text-align: center; border-radius: 10px 10px 0 0; margin-bottom: 20px; }
        .nav-tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .nav-tab { padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .nav-tab.active { background: #2980b9; }
        .tab-content { display: none; background: white; padding: 20px; border-radius: 0 0 10px 10px; }
        .tab-content.active { display: block; }
        .btn { padding: 10px 20px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .btn-primary { background: #3498db; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #f8f9fa; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Dashboard - Registo de Gases Fluorados</h1>
            <p>Decreto-Lei n.º 145/2017, de 30 de novembro</p>
        </header>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="openTab('dashboard')">Dashboard</button>
            <button class="nav-tab" onclick="openTab('registos')">Registos</button>
            <button class="nav-tab btn-primary" onclick="openTab('novo')">Novo Registo</button>
        </div>
        
        <div id="dashboard" class="tab-content active">
            <h2>Bem-vindo ao Sistema de Registos</h2>
            <p>Este é o aplicativo de registo de intervenções de gases fluorados.</p>
            <div class="stats">
                <div style="background: #3498db; color: white; padding: 20px; border-radius: 5px; text-align: center; margin: 10px;">
                    <h3 id="totalRegistos">0</h3>
                    <p>Total de Registos</p>
                </div>
            </div>
        </div>
        
        <div id="registos" class="tab-content">
            <h2>Lista de Registos</h2>
            <table>
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Estado</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="tabelaRegistos">
                    <tr>
                        <td colspan="4" style="text-align: center;">Nenhum registo encontrado</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div id="novo" class="tab-content">
            <h2>Novo Registo de Intervenção</h2>
            <form onsubmit="criarRegisto(event)">
                <div style="margin-bottom: 15px;">
                    <label>Data da Intervenção:</label>
                    <input type="date" id="dataIntervencao" required style="width: 100%; padding: 8px; margin-top: 5px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label>Nome do Cliente:</label>
                    <input type="text" id="nomeCliente" required style="width: 100%; padding: 8px; margin-top: 5px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label>Equipamento:</label>
                    <input type="text" id="equipamento" required style="width: 100%; padding: 8px; margin-top: 5px;">
                </div>
                <button type="submit" class="btn">Criar Registo</button>
            </form>
        </div>
    </div>

    <script>
        let registos = [];
        
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'dashboard') atualizarDashboard();
            if (tabName === 'registos') carregarRegistos();
        }
        
        function criarRegisto(event) {
            event.preventDefault();
            const novoRegisto = {
                id: Date.now(),
                data: document.getElementById('dataIntervencao').value,
                cliente: document.getElementById('nomeCliente').value,
                equipamento: document.getElementById('equipamento').value,
                estado: 'Pendente'
            };
            
            registos.push(novoRegisto);
            alert('Registo criado com sucesso!');
            document.getElementById('dataIntervencao').value = '';
            document.getElementById('nomeCliente').value = '';
            document.getElementById('equipamento').value = '';
            
            atualizarDashboard();
        }
        
        function atualizarDashboard() {
            document.getElementById('totalRegistos').textContent = registos.length;
        }
        
        function carregarRegistos() {
            const tbody = document.getElementById('tabelaRegistos');
            tbody.innerHTML = '';
            
            if (registos.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" style="text-align: center;">Nenhum registo encontrado</td></tr>';
                return;
            }
            
            registos.forEach(registo => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${registo.data}</td>
                    <td>${registo.cliente}</td>
                    <td>${registo.estado}</td>
                    <td>
                        <button class="btn" onclick="verRegisto(${registo.id})">Ver</button>
                        <button class="btn btn-primary" onclick="validarRegisto(${registo.id})">Validar</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        function verRegisto(id) {
            const registo = registos.find(r => r.id === id);
            if (registo) {
                alert(`Detalhes do Registo:\nData: ${registo.data}\nCliente: ${registo.cliente}\nEquipamento: ${registo.equipamento}\nEstado: ${registo.estado}`);
            }
        }
        
        function validarRegisto(id) {
            const registo = registos.find(r => r.id === id);
            if (registo) {
                registo.estado = 'Validado';
                alert('Registo validado com sucesso!');
                carregarRegistos();
            }
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            atualizarDashboard();
        });
    </script>
</body>
</html>
